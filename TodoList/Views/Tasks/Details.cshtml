@model TodoList.Models.Task

@{
    ViewBag.Title = "Task Details";
}

<div class="container mt-5">
    <h2>Task Details</h2>

    <div class="card">
        <div class="card-body">
            <h4 class="card-title">Task</h4>
            <hr />
            <dl class="dl-horizontal">
                <dt>Description:</dt>
                <dd>@Model.Description</dd>
                <dt>Due Date:</dt>
                <dd>@(Model.DueDate.HasValue ? Model.DueDate.Value.ToShortDateString() : "Not specified")</dd>
                <dt>Is Completed:</dt>
                <dd>
                    <form action="@Url.Action("ToggleCompletion", "Tasks")" method="post">
                        @Html.HiddenFor(model => model.Id)
                        @Html.CheckBoxFor(model => model.IsCompleted, new { onchange = "this.form.submit();", @class = "form-check-input" })
                    </form>
                </dd>
            </dl>
        </div>
    </div>

    <div class="mt-3">
        <p>
            @Html.ActionLink("Edit", "Edit", new { id = Model.Id }, new { @class = "btn btn-primary" }) |
            @Html.ActionLink("Delete", "Delete", new { id = Model.Id }, new { @class = "btn btn-danger" }) |
            @Html.ActionLink("Back to List", "Details", "TodoLists", new { id = Model.TodoListId }, new { @class = "btn btn-secondary" })
        </p>
    </div>
</div>
